import pandas as pd


def merge_dicts(*dict_args):
    """
    Given any number of dicts, shallow copy and merge into a new dict,
    precedence goes to key value pairs in latter dicts.
    """
    result = {}
    for dictionary in dict_args:
        result.update(dictionary)
    return result


def generate_csv_file(*dict_args):
    z = merge_dicts(*dict_args)
    df = pd.DataFrame(z)  ## pd.DataFrame(z).T  就是转置 T
    df.to_csv('all_results.csv')


# print(z)
# print(z1)
# print(z3)
arg1 = {'cnn_2_120': {'0HP': 78.91089081764221, '1HP': 70.33003211021423, '2HP': 81.78807944059372,
                      '3HP': 85.6578940153122},
        'cnnDF_2_120': {'0HP': 98.9108910891089, '1HP': 96.76567656765675, '2HP': 99.7682119205298, '3HP': 100.0},
        'proposed_2_120': {'0HP': 78.25082570314407, '1HP': 80.06600677967072, '2HP': 85.9271514415741,
                         '3HP': 89.07894849777222},
        'proposedDF_2_120': {'0HP': 99.10891089108911, '1HP': 99.04290429042904, '2HP': 99.90066225165563,
                            '3HP': 99.96710526315789}}
arg2 = {'cnn_2_300': {'0HP': 83.63636314868927, '1HP': 80.21108090877533, '2HP': 87.32189953327179,
                      '3HP': 74.42105323076248},
        'cnnDF_2_300': {'0HP': 99.86824769433466, '1HP': 99.52506596306068, '2HP': 100.0, '3HP': 100.0},
        'proposed_2_300': {'0HP': 94.86166000366211, '1HP': 97.25593686103821, '2HP': 97.38786220550537,
                         '3HP': 98.06578934192657},
        'proposedDF_2_300': {'0HP': 99.96047430830039, '1HP': 99.73614775725594, '2HP': 99.96042216358839, '3HP': 100.0}}
arg3 = {'cnn_2_900': {'0HP': 87.24153101444244, '1HP': 88.75880300998688, '2HP': 96.92951560020447,
                      '3HP': 97.48681902885437},
        'cnnDF_2_900': {'0HP': 99.95160580730312, '1HP': 99.67429577464789, '2HP': 99.99559471365639, '3HP': 100.0},
        'proposed_2_900': {'0HP': 98.64936172962189, '1HP': 97.5616192817688, '2HP': 98.43612432479858,
                         '3HP': 99.8681902885437},
        'proposedDF_2_900': {'0HP': 100.0, '1HP': 99.93397887323945, '2HP': 99.99559471365639, '3HP': 100.0}}
arg4 = {'cnn_2_1500': {'0HP': 91.77723526954651, '1HP': 68.23763052622476, '2HP': 99.7831384340922,
                       '3HP': 83.64881873130798},
        'cnnDF_2_1500': {'0HP': 100.0, '1HP': 99.94582881906825, '2HP': 100.0, '3HP': 100.0},
        'proposed_2_1500': {'0HP': 99.76532061894736, '1HP': 99.96388554573059, '2HP': 99.46688413619995,
                          '3HP': 99.99098579088846},
        'proposedDF_2_1500': {'0HP': 100.0, '1HP': 99.97291440953411, '2HP': 100.0, '3HP': 100.0}}

arg4 = {'cnn_2_1500': {'0HP': 84.64121252298355, '1HP': 81.40845090150833, '2HP': 99.90783393383026, '3HP': 91.99026420712471},
 'cnnDF_2_1500': {'0HP': 99.99729217438397, '1HP': 99.92416034669556, '2HP': 99.99728923827595, '3HP': 100.0},
 'proposed_2_1500': {'0HP': 97.03222274780273, '1HP': 98.31256806850433, '2HP': 99.50121998786926, '3HP': 99.86749529838562},
 'proposedDF_2_1500': {'0HP': 100.0, '1HP': 99.99729144095342, '2HP': 100.0, '3HP': 100.0}}


arg11 = {'cnn_1_120': {'0HP': 10.429042726755142, '1HP': 11.155115514993668, '2HP': 10.894039794802666,
                     '3HP': 9.407894611358643},
         'cnnDF_1_120': {'0HP': 99.10891089108911, '1HP': 96.8976897689769, '2HP': 99.63576158940397,
                       '3HP': 99.96710526315789},
         'deepforest_1_120': {'0HP': 84.62046204620461, '1HP': 78.77887788778878, '2HP': 80.33112582781457,
                             '3HP': 85.88815789473684},
         'wdcnn_1_120': {'0HP': 19.570956826210022, '1HP': 15.874587595462799, '2HP': 18.774834349751472,
                       '3HP': 18.28947350382805},
         'wdcnnDF_1_120': {'0HP': 97.42574257425743, '1HP': 97.95379537953795, '2HP': 98.80794701986756,
                         '3HP': 97.79605263157895}}

arg22 = {'cnn_1_300': {'0HP': 13.649538829922674, '1HP': 9.802110642194748, '2HP': 13.337730914354323,
                     '3HP': 18.723684176802635},
         'cnnDF_1_300': {'0HP': 99.80237154150197, '1HP': 98.83905013192611, '2HP': 99.9868073878628, '3HP': 100.0},
         'deepforest_1_300': {'0HP': 95.8893280632411, '1HP': 95.27704485488127, '2HP': 95.46174142480211,
                             '3HP': 97.88157894736841},
         'wdcnn_1_300': {'0HP': 70.39525747299194, '1HP': 51.25329822301865, '2HP': 56.76781058311462,
                       '3HP': 52.64473721385002},
         'wdcnnDF_1_300': {'0HP': 99.57839262187089, '1HP': 99.07651715039579, '2HP': 99.85488126649076,
                         '3HP': 99.90789473684211},
         'proposed_1_300':{'0HP': 81.56785190105438, '1HP': 73.41688752174377, '2HP': 80.02638459205627, '3HP': 70.31578838825226},
         'proposedDF_1_300':{'0HP': 99.96047430830039, '1HP': 99.93403693931398, '2HP': 100.0, '3HP': 100.0}
         }

arg33 = {
    'cnn_1_900': {'0HP': 92.87285625934601, '1HP': 68.20862710475922, '2HP': 96.75330340862274, '3HP': 96.66520237922668},
    'cnnDF_1_900': {'0HP': 99.99560052793666, '1HP': 99.97359154929578, '2HP': 100.0, '3HP': 99.99560632688927},
    'deepforest_1_900': {'0HP': 99.001319841619, '1HP': 99.11091549295774, '2HP': 99.70044052863436,
                        '3HP': 99.56502636203865},
    'wdcnn_1_900': {'0HP': 99.85041856765747, '1HP': 99.70510601997375, '2HP': 99.95154142379761,
                  '3HP': 99.98681962490082},
    'wdcnnDF_1_900': {'0HP': 99.95160580730312, '1HP': 99.86795774647888, '2HP': 99.99118942731278,
                    '3HP': 99.99560632688927}}

arg44 = {'cnn_1_1500': {'0HP': 91.87381446361542, '1HP': 86.72806084156036, '2HP': 88.87774527072906,
                      '3HP': 91.67658150196075},
         'cnnDF_1_1500': {'0HP': 99.98916869753589, '1HP': 99.98104008667389, '2HP': 99.91054486310654,
                        '3HP': 99.99729583558681},
         'deepforest_1_1500': {'0HP': 99.24993230435959, '1HP': 99.46912242686889, '2HP': 99.87801572241798,
                              '3HP': 99.75392103839914},
         'wdcnn_1_1500': {'0HP': 99.95125889778137, '1HP': 99.89436686038971, '2HP': 99.99457836151123,
                        '3HP': 99.99729573726654},
         'wdcnnDF_1_1500': {'0HP': 99.9918765231519, '1HP': 99.96749729144095, '2HP': 100.0, '3HP': 99.98377501352083}}


def serborn_data():
    data = merge_dicts(arg1, arg2, arg3, arg4, arg11, arg22, arg33, arg44)
    all_sort_dim = {'cnn': [1, 2], 'wdcnn': [1], 'deepforest': [1], 'cnnDF': [1, 2], 'wdcnnDF': [1], 'proposed': [2],
                    'proposedDF': [2]}
    all_length = [120, 300, 900, 1500]
    all_rpm = ['0hp', '1hp', '2hp', '3hp']
    d1 = ['1d_cnn'] * 16 + ['2d_cnn'] * 16 + ['1d_wdcnn'] * 16 + ['DF'] * 16 \
         + ['1d_cnnDF'] * 16 + ['2d_cnnDF'] * 16 + ['1d_wdcnnDF'] * 16 + ['2d_proposed'] * 16 + [
             '2d_proposedDF'] * 16
    d2 = [1] * 16 + [2] * 16 + [1] * 16 * 3 + [2] * 16 + [1] * 16 + [2] * 16 * 2
    d3 = ([all_length[0]] * 4 + [all_length[1]] * 4 + [all_length[2]] * 4 + [all_length[3]] * 4) * 9
    d4 = all_rpm * 36
    d5 = []
    for key in all_sort_dim:
        for key_item in all_sort_dim[key]:
            for length in range(len(all_length)):
                temp = list(data['{}_{}_{}'.format(key, key_item, all_length[length])].values())
                d5 += temp
    dataframe = {'sort': d1, 'dim': d2, 'length': d3, 'power': d4, 'accuracy': d5}
    df = pd.DataFrame(dataframe)
    df.to_csv('result.csv')


# generate_csv_file(arg1, arg2, arg3, arg4, arg11, arg22, arg33, arg44)
# generate_csv_file(arg11, arg22, arg33, arg44)
# generate_csv_file(arg1, arg2, arg3, arg4)
serborn_data()

proposed_1d={'0HP': 81.56785190105438, '1HP': 73.41688752174377, '2HP': 80.02638459205627, '3HP': 70.31578838825226}
proposed_1d_time = {'0HP': 119.28175756931304, '1HP': 121.19983310699463, '2HP': 125.47347309589387, '3HP': 125.76104793548583}
proposedDF_1d= {'0HP': 99.96047430830039, '1HP': 99.93403693931398, '2HP': 100.0, '3HP': 100.0}
proposedDF_time = {'0HP': 242.82582745552062, '1HP': 241.96658923625947, '2HP': 236.65520858764648, '3HP': 239.1799661874771}

wdcnn_2d = {'0HP': 86.17918193340302, '1HP': 84.90765154361725, '2HP': 90.6596302986145, '3HP': 94.81578946113586}
wdcnn_2d_time = {'0HP': 163.57662961483, '1HP': 160.99103894233704, '2HP': 152.02576570510865, '3HP': 170.00510141849517}
wdcnnDF_2d = {'0HP': 99.59156785243741, '1HP': 99.90765171503956, '2HP': 100.0, '3HP': 100.0}
wdcnnDF_2d_time = {'0HP': 230.2003391981125, '1HP': 220.1748432159424, '2HP': 202.02009012699128, '3HP': 224.20770101547242}
